(function(t){function e(e){for(var a,s,r=e[0],c=e[1],h=e[2],u=0,m=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&m.push(i[s][0]),i[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(m.length)m.shift()();return o.push.apply(o,h||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(a=!1)}a&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},i={app:0},o=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var h=0;h<r.length;h++)e(r[h]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"16d4":function(t,e,n){},"174b":function(t,e,n){"use strict";var a=n("a089"),i=n.n(a);i.a},2182:function(t,e,n){"use strict";var a=n("fd63"),i=n.n(a);i.a},3681:function(t,e,n){},"38cf":function(t,e,n){},4183:function(t,e,n){"use strict";var a=n("16d4"),i=n.n(a);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=n("58ca"),o=n("0284"),s=n.n(o),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"FullScreen",attrs:{id:"app"}},[n("ocean-canvas",{ref:"_ocean_canvas"}),n("PoemCanvas",{ref:"_poem_canvas"}),n("div",{staticClass:"CenterWrapper",attrs:{id:"_page"}},[n("div",{staticClass:"MainScreen"},[n("transition",{attrs:{name:"page-fade"}},[n("keep-alive",[n("router-view",{staticClass:"MainPage"})],1)],1)],1)])],1)},c=[],h=n("1e5c"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"_ocean_container"}})},u=[],m=(n("4de4"),n("d3b7"),n("cfc3"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("5a89")),d=22,f=5,p=.85,v="\n    varying vec2 vUv;\n    void main(){\n        vUv = uv;\n        vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n        gl_Position = projectionMatrix * mvPosition;\n\n    }",g="\n    precision highp float;\n    uniform vec3 metaballs["+d+"];\n    uniform vec3 ocean_color[4];\n    uniform float tt;\n    \n    uniform float width;\n    uniform float height;\n    uniform float layer;\n    \n    uniform float roi_pos_x;\n    uniform float roi_pos_y;\n    uniform float roi_size_x;\n    uniform float roi_size_y;\n    varying vec2 vUv;\n    const vec3 BORDER_COLOR=vec3(0.02,0.22,0.48);\n    float rand(float n){return fract(sin(n) * 43758.5453123);}\n    float rand(vec2 n) { \n        return fract(sin(dot(n, vec2(12.9898, 4.1414))) * 43758.5453);\n    }\n    float noise(float p){\n        float fl = floor(p);\n        float fc = fract(p);\n        return mix(rand(fl), rand(fl + 1.0), fc);\n    }\n    float noise(vec2 n) {\n        const vec2 d = vec2(0.0, 1.0);\n        vec2 b = floor(n), f = smoothstep(vec2(0.0), vec2(1.0), fract(n));\n        return mix(mix(rand(b), rand(b + d.yx), f.x), mix(rand(b + d.xy), rand(b + d.yy), f.x), f.y);\n    }\n    vec2 mapCoord(vec2 p){\n        float ratio=width/height;\n        float rx=(p.x-.5)*ratio*roi_size_x+((roi_pos_x-.5)*ratio+.5);\n        float ry=-(p.y-.5)*roi_size_y+roi_pos_y;\n\n        return vec2(rx,ry);\n    }\n    vec4 getBlobColor(float val){\n        float step=val/5.0;\n        float pp=step-floor(step);\n        \n        vec4 bcolor;\n\n        pp=1.0;//-pp;\n        if(step>=layer*2.5) bcolor = vec4(ocean_color[0], 1.0);\n        else if(step>=layer*2.0) bcolor = vec4(mix(ocean_color[0],ocean_color[1],pp), 1.0);\n        else if(step>=layer*1.5) bcolor = vec4(mix(ocean_color[1],ocean_color[2],pp),1.0);\n        else if(step>=layer){\n            bcolor = vec4(mix(ocean_color[2],ocean_color[3],pp), 1.0);  \n        }else{\n            bcolor = vec4(ocean_color[3], 0.0);\n        }\n        return bcolor;\n    }\n   \n    void main(){\n        float ratio=width/height;\n        vec2 p=mapCoord(vUv.xy);\n        float x=p.x;\n        float y=p.y;\n        \n        float mx=x*ratio;\n        float my=y;\n        \n        float curve=20.0+layer*5.0;\n        \n        float v = 0.0;\n        float d=0.0;\n        for (int i = 0; i < "+d+"; i++) {\n            vec3 mb = metaballs[i];\n            float dx = ((mb.x-.5)*ratio+.5) - x;\n            float dy = mb.y - y;\n            float r = mb.z;\n            v += r*r/(dx*dx + dy*dy);\n            // v += r*r/(dx*dx + dy*dy);\n            d+=1.0/(dx*dx+dy*dy);\n\n            // if(mod(sqrt(d)*width,1.0)<0.01){\n            //     gl_FragColor=vec4(BORDER_COLOR,1.0);\n            //     return;\n            // }\n        }\n        v=v*(noise(vec2(x*ratio*curve+tt,y*curve+tt))*.5+.5);\n        d=d*noise(vec2(x*ratio*curve/5.0+tt,y*curve/5.0+tt)*.5+.5);\n        vec4 tmp;\n        if(mod(sqrt(d),0.5)<0.01) tmp=vec4(BORDER_COLOR,1.0);\n        else{\n            tmp=getBlobColor(v);\n        }\n        gl_FragColor=tmp;\n    }\n    ",_="\n    precision highp float;\n    uniform vec3 metaballs["+f+"];\n    uniform vec3 ocean_color[4];\n    uniform float tt;\n    uniform sampler2D mask;\n    uniform float width;\n    uniform float height;\n    varying vec2 vUv;\n    uniform vec3 ISLAND_COLOR[4];\n    // uniform float ISLAND_PORTION;\n    // uniform float ISLAND_CENTER;\n    uniform vec4 mask_region;\n    uniform float roi_pos_x;\n    uniform float roi_pos_y;\n    uniform float roi_size_x;\n    uniform float roi_size_y;\n    float rand(float n){return fract(sin(n) * 43758.5453123);}\n    float rand(vec2 n) { \n        return fract(sin(dot(n, vec2(12.9898, 4.1414))) * 43758.5453);\n    }\n    float noise(float p){\n        float fl = floor(p);\n        float fc = fract(p);\n        return mix(rand(fl), rand(fl + 1.0), fc);\n    }\n    float noise(vec2 n) {\n        const vec2 d = vec2(0.0, 1.0);\n        vec2 b = floor(n), f = smoothstep(vec2(0.0), vec2(1.0), fract(n));\n        return mix(mix(rand(b), rand(b + d.yx), f.x), mix(rand(b + d.xy), rand(b + d.yy), f.x), f.y);\n    }\n    bool inMask(vec2 p){\n        \n        if(p.x<mask_region[0] || p.y<mask_region[1] \n            || p.x>mask_region[0]+mask_region[2] || p.y>mask_region[1]+mask_region[3]) return false;\n\n        float mx=(p.x-mask_region[0])/mask_region[2];\n        float my=(p.y-mask_region[1])/mask_region[3];\n        \n        vec4 mask_=texture2D(mask,vec2(mx,1.0-my));\n        bool in_mask=(length(mask_.rgb)>1.0);\n        \n        return in_mask;\n        // return true;\n    }\n     vec2 mapCoord(vec2 p){\n        float ratio=width/height;\n        float rx=(p.x-.5)*roi_size_x+((roi_pos_x-.5)*ratio+.5);\n        float ry=-(p.y-.5)*roi_size_y+roi_pos_y;\n        // ry=1.0-ry;\n\n        return vec2(rx,ry);\n    }\n    void main(){\n        float ratio=width/height;\n        vec2 p=mapCoord(vUv.xy);\n        float x=p.x;\n        float y=p.y;\n        \n        // float mx=(vUv.x-.5)*ratio+.5;\n        // float my=vUv.y;\n        float v = 0.0;\n        float d=0.0;\n        for (int i = 0; i < "+f+"; i++) {\n            vec3 mb = metaballs[i];\n            float dx = mb.x - x;\n            float dy = mb.y - y;\n            float r = mb.z;\n            v += r*r/(dx*dx + dy*dy);\n            d+=sqrt(r*r/(dx*dx + dy*dy));\n        }\n        v=v*(noise(vec2(x*ratio*20.0+tt,y*20.0+tt))*.5+.5);\n        bool in_mask=inMask(p);\n        vec4 tmp=vec4(ocean_color[3],.2);\n        vec4 dest=vec4(mix(ISLAND_COLOR[2],ISLAND_COLOR[3],y),tt);\n        // if(v > 1.0){\n            tmp=vec4(ocean_color[3], .2);\n            float step=floor(v/4.0);\n            float pp=1.0;\n            if(step>=6.0) tmp =vec4(ocean_color[0], 1.0);\n            else if(step>=5.0) tmp =vec4(ocean_color[1], 1.0);\n            else if(step>=4.0) tmp =vec4(ocean_color[2], 1.0);\n\n            // if(tt>0.0 && !in_mask) tmp=vec4(ocean_color[3],.2);\n        // }\n        if(in_mask){\n            dest=vec4(mix(ISLAND_COLOR[0],ISLAND_COLOR[1],y),1.0);\n        }\n        float t=.0;\n        if(tt<.5) t=.0;\n        else t=(tt-.5)*2.0;\n        gl_FragColor=vec4(mix(tmp,dest,t));\n    }\n    ",x=n("d4ec"),y=n("bee2"),w=n("cffa"),b=n("a5cf"),C=.5,O=5e3,$=300,k=10,M=function(){function t(e,n){Object(x["a"])(this,t),this.width=e,this.height=n;var a=this.randomRadius(C);this.x=Math.random()*(e+a)-a,this.y=Math.random()*(n+a)-a,this.r=a,this.tween,this.setDest(),this.stage="floating",this.is_tw=!1}return Object(y["a"])(t,[{key:"atDest",value:function(){return!this.tween.isActive()}},{key:"step",value:function(){this.atDest()&&"floating"===this.stage&&this.setDest()}},{key:"setDest",value:function(t,e,n,a){var i=0;void 0===n&&(n=O*(1*Math.random()+1),i=n*Math.random()*.5/1e3),void 0===a&&(a=C);var o=this.randomRadius(a);void 0===t&&(t=Math.random()*(this.width+this.r)-this.r),void 0===e&&(e=Math.random()*(this.height+this.r)-this.r),t=Math.min(Math.max(t,0),this.width),e=Math.min(Math.max(e,0),this.height),this.tween&&this.tween.kill(),this.tween=w["a"].to(this,n/1e3,{x:t,y:e,r:o,overwrite:"all",ease:b["d"].easeInOut,delay:i})}},{key:"randomRadius",value:function(t){var e=(.5*Math.random()+.5)*Math.min(this.width,this.height)*t;return Math.min(Math.max(e,k),$)}}]),t}(),P=3e3,S={name:"ocean-canvas",data:function(){return{camera:null,scene:null,renderer:null,mesh_ocean:null,mesh_taiwan:null,width:this.$store.state.screenWidth,height:this.$store.state.screenHeight,spots:[],material_ocean:null,material_taiwan:null,stage:"floating"}},watch:{"$store.state.screenWidth":function(t){this.width=t,this.resize()},"$store.state.screenHeight":function(t){this.height=t,this.resize()}},methods:{init:function(){var t=document.getElementById("_ocean_container");this.camera=new m["f"](70,t.clientWidth/t.clientHeight,.01,10),this.camera.position.z=1,this.scene=new m["h"];for(var e=t.clientWidth/t.clientHeight,n=this.camera.fov*Math.PI/180,a=2*Math.tan(n/2),i=a*e,o=new m["g"](i,a,1,1),s=0;s<d;++s){var r=new M(this.width,this.height);s<f&&(r.is_tw=!0),this.spots.push(r)}var c=this.$store.getters.getMaskRegion;this.material_ocean=new m["i"]({uniforms:{ocean_color:{value:new Float32Array([0,.375,.62,.08,.375,.65,.16,.52,.68,.25,.59,.72])},metaballs:{value:new Float32Array(3*d)},tt:{value:0},width:{value:this.width},height:{value:this.height},layer:{value:5},roi_pos_x:{value:.5},roi_pos_y:{value:.5},roi_size_x:{value:1},roi_size_y:{value:1}},transparent:!0,vertexShader:v,fragmentShader:g}),this.material_taiwan=new m["i"]({uniforms:{mask:{type:"t",value:(new m["l"]).load("img/taiwan_mask.png")},ocean_color:{value:new Float32Array([0,.375,.62,.08,.375,.65,.16,.52,.68,.25,.59,.72])},metaballs:{value:new Float32Array(3*d)},tt:{value:0},width:{value:i},height:{value:a},ISLAND_COLOR:{value:new Float32Array([55/256,186/256,.71875,43/256,121/256,180/256,19/256,.625,182/256,18/256,86/256,142/256])},mask_region:{value:new Float32Array([c.x/this.width,c.y/this.height,c.w/this.width,c.w/this.height])},roi_pos_x:{value:.5},roi_pos_y:{value:.5},roi_size_x:{value:1},roi_size_y:{value:1}},transparent:!0,vertexShader:v,fragmentShader:_}),this.mesh_ocean=new m["d"](o,this.material_ocean),w["a"].to(this.material_ocean.uniforms.tt,6,{value:10,yoyo:!0,repeat:-1}),this.mesh_taiwan=new m["d"](o,this.material_taiwan),this.scene.add(this.mesh_taiwan),this.scene.add(this.mesh_ocean),this.renderer=new m["m"]({antialias:!0,alpha:!0}),this.renderer.setClearColor(16777215,0),this.renderer.sortObjects=!1,this.renderer.setSize(t.clientWidth,t.clientHeight),t.appendChild(this.renderer.domElement)},animate:function(){requestAnimationFrame(this.animate);var t=0;for(t=0;t<d;++t)this.spots[t].step(this.width,this.height);if("island"===this.stage||"poem"===this.stage){var e=this.packSpots(this.spots.filter((function(t){return!t.is_tw})),d),n=this.packSpots(this.spots.filter((function(t){return t.is_tw})));this.material_ocean.uniforms.metaballs.value=e,this.material_taiwan.uniforms.metaballs.value=n}else{var a=this.packSpots(this.spots);this.material_ocean.uniforms.metaballs.value=a,this.material_taiwan.uniforms.metaballs.value=new Float32Array(3*f)}this.renderer.render(this.scene,this.camera)},packSpots:function(t,e){void 0==e&&(e=t.length);for(var n=new Float32Array(3*e),a=0;a<t.length;a++){var i=3*a,o=t[a];n[i+0]=o.x/this.width,n[i+1]=o.y/this.height,n[i+2]=o.r/this.height}return n},resize:function(){console.log("ocean canvas shader resize!"),this.material_ocean.uniforms.width.value=this.width,this.material_ocean.uniforms.height.value=this.height;var t=this.$store.getters.getMaskRegion;this.material_taiwan.uniforms.mask_region.value=new Float32Array([t.x/this.width,t.y/this.height,t.w/this.width,t.w/this.height]);for(var e=0;e<d;++e)if(this.spots[e].width=this.width,this.spots[e].height=this.height,"island"===this.stage)if(this.spots[e].is_tw){var n=this.$store.getters.getIslandPositionCanvas(e);this.spots[e].setDest(n.x,n.y,.1*P,n.r)}else{var a=e-f,i=this.$store.getters.getOceanPositionCanvas(a);this.spots[e].setDest(i.x,i.y,.1*P,.25)}var o=this.width/this.height,s=this.camera.fov*Math.PI/180,r=2*Math.tan(s/2),c=r*o,h=new m["g"](c,r,1,1);this.camera.aspect=o,this.camera.updateProjectionMatrix(),this.mesh_ocean.geometry=h,this.mesh_taiwan.geometry=h,this.renderer.setSize(this.width,this.height),this.renderer.render(this.scene,this.camera)},goIsland:function(){var t;for(t=0;t<d;++t)if(this.spots[t].stage="island",this.spots[t].is_tw){var e=this.$store.getters.getIslandPositionCanvas(t);this.spots[t].setDest(e.x,e.y,P,e.r)}else{var n=t-f,a=this.$store.getters.getOceanPositionCanvas(n);this.spots[t].setDest(a.x,a.y,P,.25)}w["a"].to(this.material_taiwan.uniforms.tt,P/1e3*.5,{value:1,delay:P/1e3*.5}),w["a"].to(this.material_ocean.uniforms.layer,P/1e3,{value:5}),this.setShaderROI(.5,.5,1,1,.5*P,0)},goFloat:function(){var t;for(t=0;t<d;++t)this.spots[t].stage="floating",this.spots[t].setDest(void 0,void 0,P);w["a"].to(this.material_taiwan.uniforms.tt,P/1e3,{value:0}),w["a"].to(this.material_ocean.uniforms.layer,P/1e3,{value:1}),this.setShaderROI(.5,.5,1,1,2*P,0)},goPoem:function(t){console.log("go poem!"),t+=f,w["a"].to(this.material_taiwan.uniforms.mask_tt,P/1e3,{value:1}),w["a"].to(this.material_ocean.uniforms.layer,P/1e3,{value:4}),this.setShaderROI(this.spots[t].x/this.width,this.spots[t].y/this.height,.1,.1,.5*P,0)},setShaderROI:function(t,e,n,a,i,o){w["a"].to(this.material_ocean.uniforms.roi_pos_x,i/1e3,{value:t,delay:o,ease:b["a"].easeOut}),w["a"].to(this.material_ocean.uniforms.roi_pos_y,i/1e3,{value:e,delay:o,ease:b["a"].easeOut}),w["a"].to(this.material_ocean.uniforms.roi_size_x,i/1e3,{value:n,delay:o,ease:b["a"].easeOut}),w["a"].to(this.material_ocean.uniforms.roi_size_y,i/1e3,{value:a,delay:o,ease:b["a"].easeOut}),w["a"].to(this.material_taiwan.uniforms.roi_pos_x,i/1e3,{value:t,delay:o,ease:b["a"].easeOut}),w["a"].to(this.material_taiwan.uniforms.roi_pos_y,i/1e3,{value:e,delay:o,ease:b["a"].easeOut}),w["a"].to(this.material_taiwan.uniforms.roi_size_x,i/1e3,{value:n,delay:o,ease:b["a"].easeOut}),w["a"].to(this.material_taiwan.uniforms.roi_size_y,i/1e3,{value:a,delay:o,ease:b["a"].easeOut})},setStage:function(t,e){switch(t){case"floating":this.goFloat();break;case"island":this.goIsland();break;case"poem":this.goPoem(e);break}this.stage=t}},mounted:function(){this.init(),this.animate()}},z=S,W=(n("9623"),n("2877")),R=Object(W["a"])(z,l,u,!1,null,"2e6092a8",null),j=R.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"_poem_container"}})},I=[],T=(n("99af"),n("3835")),E=(n("38cf5"),2e3),A=30,H=1.5*A,F=1.2*A,L=-2200,B=function(){function t(e,n,a,i,o){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-1,r=arguments.length>6?arguments[6]:void 0;Object(x["a"])(this,t),this.color=o,this.createObject(e),this.tween,this.setDest(n,a,i,s,r),this.repeat=s,this.stage="floating"}return Object(y["a"])(t,[{key:"createObject",value:function(t){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.context.fillStyle="transparant",this.canvas.width=F,this.canvas.height=F,this.context.textAlign="center",this.context.textBaseline="middle",this.context.font=A+"px Noto Sans TC",this.drawText(t),this.texture=new m["a"](this.canvas),this.texture.needsUpdate=!0,this.texture.minFilter=m["c"],this.material=new m["k"]({map:this.texture,color:16777215,fog:!0,depthWrite:!1});var e=new m["j"](this.material);this.textObject=new m["e"],this.textObject.textHeight=F,this.textObject.textWidth=F,e.scale.set(A,A,1),this.textObject.add(e)}},{key:"drawText",value:function(t){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.fillStyle=this.color,this.context.fillText(t,F/2,F/2),this.texture&&(this.texture.needsUpdate=!0)}},{key:"updateChar",value:function(t,e,n,a,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-1,s=arguments.length>6?arguments[6]:void 0;this.color=i,this.drawText(t),this.setDest(e,n,a,o,s)}},{key:"atDest",value:function(){return!this.tween.isActive()}},{key:"setDest",value:function(t,e,n,a,i){var o=E*(1*Math.random()+1);void 0===i&&Math.random();var s=Math.random();this.textObject.position.x=t*s,this.textObject.position.y=e*s,this.textObject.position.z=L,this.tween&&this.tween.kill(),this.tween=w["a"].to(this.textObject.position,o/1e3,{x:t,y:e,z:n,overwrite:"all",ease:b["d"].easeInOut,delay:i/1e3,repeat:a})}},{key:"reset",value:function(){this.tween&&this.tween.pause(),this.textObject.position.z=L}},{key:"restart",value:function(){this.tween.restart(),this.fadeIn()}},{key:"setRepeat",value:function(t){this.tween.repeat(t)}},{key:"fadeOut",value:function(){w["a"].to(this.material,3,{opacity:0})}},{key:"fadeIn",value:function(){w["a"].to(this.material,3,{opacity:1,delay:1})}}]),t}(),N=50,U=120,V="#E8FFD3",q="white",Z=100,G=5e3,J={name:"poem-canvas",data:function(){return{camera:null,scene:null,renderer:null,width:this.$store.state.screenWidth,height:this.$store.state.screenHeight,dummy_text:[],poem_text:[],cameraZ:2e3,stage:"floating",author:"漂浮繆斯",poem_group:new m["b"]}},computed:{textwidth:function(){return this.$store.state.pageWidth},destZ:function(){var t=this.camera.fov*Math.PI/180;return this.height/(2*Math.tan(t/2))}},watch:{"$store.state.screenWidth":function(t){this.width=t,this.resize()},"$store.state.screenHeight":function(t){this.height=t,this.resize()}},methods:{init:function(){var t=document.getElementById("_poem_container");this.camera=new m["f"](60,t.clientWidth/t.clientHeight,.01,this.cameraZ),this.camera.position.z=0,this.scene=new m["h"],this.scene.add(this.poem_group),this.renderer=new m["m"]({antialias:!0,alpha:!0}),this.renderer.setClearColor(16777215,0),this.renderer.sortObjects=!1,this.renderer.setSize(t.clientWidth,t.clientHeight),t.appendChild(this.renderer.domElement),this.resetChar()},resize:function(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.width,this.height),"poem"===this.state&&this.renderer.render(this.scene,this.camera)},animate:function(){"poem"===this.stage&&this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.animate)},addWeather:function(t,e,n){for(u in this.dummy_text)this.dummy_text[u].fadeOut();var a=0;for(u in t)a+=t[u].poem.length+1,t[u].concat&&(a-=1);console.log("#line= "+a);var i=0,o=0,s=0,r=0,c=0,h=this.camera.position.z-this.destZ,l=G;for(var u in t){var m=t[u].text,d=this.addLine(s,m,i,o,h,V,0,0),f=Object(T["a"])(d,3);s=f[0],o=f[1],r=f[2];var p=t[u].poem;for(var v in p)if(0==v&&t[u].concat){o+=H;var g=this.addLine(s,p[v],r,o,h,q,0,l),_=Object(T["a"])(g,3);s=_[0],o=_[1],r=_[2],c=Math.max(c,r)}else{var x=this.addLine(s,p[v],i,o,h,q,0,l),y=Object(T["a"])(x,3);s=y[0],o=y[1],r=y[2],c=Math.max(c,r)}}var w=G+E,b=c,C=o-H,O=this.addLine(s,this.author,b-this.author.length*A,C,h,q,0,w),$=Object(T["a"])(O,3);s=$[0],C=$[1],r=$[2],c=Math.max(c,r),C-=H;var k=this.addLine(s,e,b-e.length*A,C,h,q,0,w),M=Object(T["a"])(k,3);s=M[0],C=M[1],r=M[2],c=Math.max(c,r);var P=this.addLine(s,n,b-n.length*A*.5,C,h,q,0,w),S=Object(T["a"])(P,3);s=S[0],C=S[1],r=S[2],c=Math.max(c,r);var z=Math.min(this.textwidth/(c-i),.8*this.$store.state.pageHeight/Math.abs(C));return z=Math.min(1,z),this.poem_group.scale.set(z,z,1),this.poem_group.position.x=-c/2*z,this.poem_group.position.y=-C/2*z,[l,w]},addLine:function(t,e,n,a,i,o,s,r){var c=0,h=0,l=a;for(var u in e)h+=A*(this.isASCII(e[u])?-.25:0),this.addChar(t,e[u],h+n,l,i,o,0,c+r),h+=A*(this.isASCII(e[u])?.75:1),c+=Z,t++;return l-=H,[t,l,h+n]},addChar:function(t,e,n,a,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"white",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:-1,r=arguments.length>7?arguments[7]:void 0,c=-1==s?this.dummy_text:this.poem_text;t<c.length?c[t].updateChar(e,n,a,i,o,s,r):this.insertChar(e,n,a,i,o,s,r)},insertChar:function(t,e,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"white",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-1,s=arguments.length>6?arguments[6]:void 0,r=new B(t,void 0!==e?e:Math.random()*this.width-this.width/2,void 0!==n?n:Math.random()*this.height-this.height/2,void 0!==a?a:0,i,o,s);-1==o?(this.dummy_text.push(r),this.scene.add(r.textObject)):(this.poem_text.push(r),this.poem_group.add(r.textObject))},isASCII:function(t){return t.charCodeAt(0)<128},clear:function(){for(var t in this.poem_text)this.poem_text[t].reset();for(t in this.dummy_text)this.dummy_text[t].reset();this.renderer.clear()},resetChar:function(){var t=Math.floor(1e3*Math.random());for(var e in this.dummy_text){var n=this.$store.getters.getDummyChar(e+t);this.dummy_text[e].drawText(n),this.dummy_text[e].restart()}},setStage:function(t){this.clear(),"poem"===t&&this.resetChar(),this.stage=t}},created:function(){},mounted:function(){console.log("wave canvas mounted!"),this.init();for(var t=0;t<N;++t)this.insertChar(this.$store.getters.getDummyChar(t));for(t=0;t<2*U;++t)this.insertChar("A",0,0,0,V,0,0);this.animate()}},Y=J,K=(n("5c48"),Object(W["a"])(Y,D,I,!1,null,"75954b5f",null)),Q=K.exports,X={data:function(){return{sound_bgm:null,sound_processing:null,sound_fadein:null,sound_finish:null}},components:{OceanCanvas:j,PoemCanvas:Q},created:function(){this.$store.dispatch("fetchIslandData"),this.$store.dispatch("fetchDummyChar"),this.loadSound()},methods:{setStage:function(t,e){this.$refs._ocean_canvas.setStage(t,e),this.$refs._poem_canvas.setStage(t),this.sound_fadein.stop(),this.sound_finish.stop(),"poem"!==t&&this.sound_processing.stop()},loadSound:function(){this.sound_bgm=new h["Howl"]({src:["audio/back.wav"]}),this.sound_bgm.loop(!0),this.sound_processing=new h["Howl"]({src:["audio/processing.wav"]}),this.sound_processing.loop(!0),this.sound_fadein=new h["Howl"]({src:["audio/fadein.wav"]}),this.sound_finish=new h["Howl"]({src:["audio/finish.wav"]})}}},tt=X,et=(n("5c0b"),Object(W["a"])(tt,r,c,!1,null,null,null)),nt=et.exports,at=n("8c4f"),it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"CenterWrapper",on:{click:t.startClick}},[n("div",{staticClass:"CenterWrapper",attrs:{id:"_title"}},[n("WaveCanvas",{attrs:{id:"title",img_src:"img/title.png",ratio:.65}}),n("WaveCanvas",{staticClass:"HintRegion",attrs:{id:"hint1",img_src:"img/hint-1.png",ratio:.32}})],1)])},ot=[],st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"_curtain",staticClass:"WaveCanvas",attrs:{id:t.id+"_curtain"}},[n("div",{staticClass:"canvas",attrs:{id:t.id+"_canvas"}}),n("div",{staticClass:"plane",attrs:{id:t.id+"_plane"}},[n("img",{attrs:{src:t.img_src,id:t.id+"_img"}})])])},rt=[],ct=(n("a9e3"),n("3389")),ht="\n        precision mediump float;\n        // default mandatory variables\n        attribute vec3 aVertexPosition;\n        attribute vec2 aTextureCoord;\n        uniform mat4 uMVMatrix;\n        uniform mat4 uPMatrix;\n        \n        // our texture matrix uniform\n        uniform mat4 uTextureMatrix0;\n        // custom variables\n        varying vec3 vVertexPosition;\n        varying vec2 vTextureCoord;\n        uniform float uTime;\n        uniform vec2 uResolution;\n        uniform vec2 uMousePosition;\n        uniform float uMouseMoveStrength;\n        void main() {\n            vec3 vertexPosition = aVertexPosition;\n            // get the distance between our vertex and the mouse position\n            float distanceFromMouse = distance(uMousePosition, vec2(vertexPosition.x, vertexPosition.y));\n            // calculate our wave effect\n            float waveSinusoid = cos(5.0 * (distanceFromMouse - (uTime / 75.0)));\n            // attenuate the effect based on mouse distance\n            float distanceStrength = (0.4 / (distanceFromMouse + 0.4));\n            // calculate our distortion effect\n            float distortionEffect = distanceStrength * waveSinusoid * uMouseMoveStrength;\n            // apply it to our vertex position\n            vertexPosition.z +=  distortionEffect / 30.0;\n            vertexPosition.x +=  (distortionEffect / 30.0 * (uResolution.x / uResolution.y) * (uMousePosition.x - vertexPosition.x));\n            vertexPosition.y +=  distortionEffect / 30.0 * (uMousePosition.y - vertexPosition.y);\n            gl_Position = uPMatrix * uMVMatrix * vec4(vertexPosition, 1.0);\n            // varyings\n            vTextureCoord = (uTextureMatrix0 * vec4(aTextureCoord, 0.0, 1.0)).xy;\n            vVertexPosition = vertexPosition;\n        }\n    ",lt="\n        precision mediump float;\n        varying vec3 vVertexPosition;\n        varying vec2 vTextureCoord;\n        uniform sampler2D uSampler0;\n        float map(float value, float min1, float max1, float min2, float max2) {\n            return min2 + (value - min1) * (max2 - min2) / (max1 - min1);\n        }\n        void main() {\n            // apply our texture\n            float x=map(vTextureCoord.x,0.0,1.0,-.1,1.1);\n            float y=map(vTextureCoord.y,0.0,1.0,-.1,1.1);\n            if(x<0.0 || x>1.0 || y<0.0 || y>1.0){\n                gl_FragColor=vec4(0,0,0,0);\n                return;\n            }\n            vec4 finalColor = texture2D(uSampler0, vec2(x,y));\n            // fake shadows based on vertex position along Z axis\n            finalColor.rgb -= clamp(-vVertexPosition.z, 0.0, 1.0);\n            // fake lights based on vertex position along Z axis\n            finalColor.rgb += clamp(vVertexPosition.z, 0.0, 1.0);\n            // handling premultiplied alpha (useful if we were using a png with transparency)\n            finalColor = vec4(finalColor.rgb * finalColor.a, finalColor.a);\n            gl_FragColor = finalColor;\n        }\n    ",ut={name:"wave-canvas",data:function(){return{curtains:null,plane:null,lastPoint:{x:0,y:0},phi:Math.random()*Math.PI*2,amp:1}},watch:{"$store.state.screenWidth":function(t){this.resize(t)},"$store.state.screenHeight":function(t){this.resize(t)}},props:{img_src:String,id:String,ratio:Number},mounted:function(){this.init(this.$props.ratio)},activated:function(){this.resize()},deactivated:function(){console.log("curtain deactivated!")},methods:{init:function(t){if(!this.curtains){console.log("init curtain");var e=document.getElementById(this.$props.id+"_plane"),n=document.getElementById(this.$props.id+"_curtain");n&&(n.style.height=t*n.clientWidth+"px"),this.curtains=new ct["Curtains"]({container:this.$props.id+"_canvas",production:!0,autoResize:!1});var a={vertexShader:ht,fragmentShader:lt,widthSegments:10,heightSegments:5,uniforms:{resolution:{name:"uResolution",type:"2f",value:[1,t]},time:{name:"uTime",type:"1f",value:0},mousePosition:{name:"uMousePosition",type:"2f",value:[this.lastPoint.x,this.lastPoint.y]},mouseMoveStrength:{name:"uMouseMoveStrength",type:"1f",value:0}}};this.plane=this.curtains.addPlane(e,a),n&&(n.getElementsByTagName("canvas")[0].style.width="100%",n.getElementsByTagName("canvas")[0].style.height="unset"),this.lastPoint=[Math.random(),Math.random()],this.draw()}},resize:function(){this.$refs._curtain.style.height=this.$refs._curtain.clientWidth*this.$props.ratio+"px"},draw:function(){this.plane&&(this.lastPoint[0]+=.1*Math.sin(this.plane.uniforms.time.value/20+this.phi),this.lastPoint[1]+=.1*Math.sin(this.plane.uniforms.time.value/50+this.phi),this.plane.uniforms.mousePosition.value=this.lastPoint,this.plane.uniforms.time.value++,this.plane.uniforms.mouseMoveStrength.value=Math.abs(Math.sin(this.plane.uniforms.time.value/100)*this.amp)+.2),requestAnimationFrame(this.draw)}}},mt=ut,dt=(n("773a"),Object(W["a"])(mt,st,rt,!1,null,null,null)),ft=dt.exports,pt={name:"PageHome",components:{WaveCanvas:ft},data:function(){return{date_str:(new Date).toLocaleString(),wavetexture:null}},methods:{startClick:function(){this.$router.push("map"),this.$parent.sound_bgm.playing()||this.$parent.sound_bgm.play()},update:function(){requestAnimationFrame(this.update)}},activated:function(){this.$parent.setStage("floating")}},vt=pt,gt=(n("4183"),Object(W["a"])(vt,it,ot,!1,null,null,null)),_t=gt.exports,xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"_map",staticClass:"CenterWrapper",attrs:{id:"_map"}},[n("WaveCanvas",{staticClass:"HintRegion",attrs:{id:"hint2",img_src:"img/hint-2.png",ratio:.3}}),t._l(t.ocean,(function(e){return n("ocean-item",{key:e.name,attrs:{ocean:e},nativeOn:{click:function(n){return t.writePoem(e.index,e.name)}}})}))],2)},yt=[],wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"OceanItem",style:t.style},[n("span",[t._v(t._s(t.ocean.name))])])},bt=[],Ct={name:"ocean-item",props:["ocean"],computed:{style:function(){var t=this.$store.getters.getOceanPosition(this.ocean.index);return{left:t.x+"px",top:t.y+"px"}}},methods:{}},Ot=Ct,$t=(n("a9b8"),Object(W["a"])(Ot,wt,bt,!1,null,"bdbf17ea",null)),kt=$t.exports,Mt=n("bc3a"),Pt=n.n(Mt),St=n("a7fe"),zt=n.n(St);a["a"].use(zt.a,Pt.a);var Wt="https://opendata.cwb.gov.tw/fileapi/v1/opendataapi/F-A0012-001?Authorization=CWB-7021ACD5-3924-4A8B-8C5F-58BF57C9F18B&downloadType=WEB&format=JSON",Rt={Wx:"天氣",WindDir:"風向",WindSpeed:"風力",WaveHeight:"浪高",WaveType:"海浪"},jt={data:function(){return{ocean_list:[],show:!1,sleeptimeout:null}},computed:{ocean:function(){return this.$store.state.ocean}},components:{OceanItem:kt,WaveCanvas:ft},methods:{writePoem:function(t,e){var n;for(var a in this.ocean_list)if(this.ocean_list[a].locationName===e){n=this.ocean_list[a];break}if(n){this.$parent.sound_processing.playing()||this.$parent.sound_processing.play();var i=this;i.poem="waiting...",console.log("write a poem for "+n.locationName),this.$store.commit({type:"setLocation",loc:n.locationName});var o=[];for(var s in n.weatherElement){var r=n.weatherElement[s],c=Rt[r["elementName"]]+r["time"][0]["parameter"]["parameterName"];o.push(c)}console.log(o),this.$store.commit("setWeatherText",o),this.$store.dispatch("generatePoem"),i.$router.push({name:"poem",params:{text:o}}),this.$parent.setStage("poem",parseInt(t)),this.$parent.sound_bgm.playing()||this.$parent.sound_bgm.play(),clearTimeout(this.sleeptimeout)}else console.log("err location: "+e)},beforeEnter:function(t){t.style.opacity=0,t.style.height=0},enter:function(t,e){},leave:function(t,e){}},created:function(){console.log("map created");var t=this;a["a"].axios.get(Wt).then((function(e){var n=e.data.cwbopendata.dataset.location;t.ocean_list=n}))},mounted:function(){var t=this;this.$store.dispatch("computePageSize"),this.$parent.$refs._ocean_canvas.resize(),clearTimeout(this.sleeptimeout),this.sleeptimeout=setTimeout((function(){t.$router.push({name:"home"}),console.log("timeout!")}),this.$store.state.timeoutInterval)},activated:function(){var t=this;console.log("page map activated!"),this.$parent.setStage("island"),clearTimeout(this.sleeptimeout),this.sleeptimeout=setTimeout((function(){t.$router.push({name:"home"}),console.log("timeout!")}),this.$store.state.timeoutInterval)},deactivated:function(){console.log("page map deactivated!"),clearTimeout(this.sleeptimeout)}},Dt=jt,It=(n("2182"),Object(W["a"])(Dt,xt,yt,!1,null,"4a3be280",null)),Tt=It.exports,Et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("keep-alive",[n("div",{staticClass:"ButtonRegion",style:t.show_button?"display:block;":"display:none;"},[n("div",{staticClass:"Button",on:{click:t.rewriteClick}},[n("WaveCanvas",{attrs:{id:"hint3",img_src:"img/hint-3.png",ratio:.42}})],1),n("div",{staticClass:"Button",on:{click:t.homeClick}},[n("WaveCanvas",{attrs:{id:"hint4",img_src:"img/hint-4.png",ratio:.42}})],1)])])],1)},At=[],Ht=(n("a15b"),{data:function(){return{show_button:(new Date).toLocaleString(),sleeptimeout:null}},components:{WaveCanvas:ft},watch:{"$store.state.generating":function(t){t||this.startPoem()}},computed:{date_str:function(){var t=new Date,e=t.getMonth(),n=t.getDate();return t.getFullYear()+"/"+this.pad(e,2)+"/"+this.pad(n,2)},location:function(){return this.$store.state.location},poem:function(){return this.$store.state.poem},generating:function(){return this.$store.state.generating}},methods:{rewriteClick:function(){this.show_button=!1,this.$parent.$refs._poem_canvas.clear(),this.$parent.$refs._poem_canvas.resetChar(),this.$parent.sound_processing.playing()||this.$parent.sound_processing.play(),this.$store.dispatch("generatePoem"),this.$parent.sound_bgm.playing()||this.$parent.sound_bgm.play(),clearTimeout(this.sleeptimeout)},homeClick:function(){this.$parent.sound_bgm.playing()||this.$parent.sound_bgm.play(),this.$router.push({name:"home"})},pad:function(t,e,n){return n=n||"0",t+="",t.length>=e?t:new Array(e-t.length+1).join(n)+t},startPoem:function(){var t,e,n=this;this.show_button=!1;var a=this.$parent.$refs["_poem_canvas"].addWeather(this.poem,this.location,this.date_str),i=Object(T["a"])(a,2);t=i[0],e=i[1],this.$parent.sound_processing.stop(),this.$parent.sound_finish.play();var o=this.$parent.sound_fadein;setTimeout((function(){o.play()}),t),setTimeout((function(){n.show_button=!0,w["b"].from(".ButtonRegion",{opacity:0,duration:1}),clearTimeout(n.sleeptimeout),n.sleeptimeout=setTimeout((function(){n.$router.push({name:"home"}),console.log("timeout!")}),n.$store.state.timeoutInterval+e)}),e)}},created:function(){},mounted:function(){this.generating||this.$router.push({name:"home"})},activated:function(){this.show_button=!1,this.generating||this.$router.push({name:"home"})},updated:function(){console.log("poem view updated!")},deactivated:function(){clearTimeout(this.sleeptimeout)}}),Ft=Ht,Lt=(n("174b"),Object(W["a"])(Ft,Et,At,!1,null,"6e22403a",null)),Bt=Lt.exports,Nt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ut=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"CenterWrapper",attrs:{id:"_floor"}},[n("div",{staticClass:"CenterWrapper"})])}],Vt={name:"PageFloor",mounted:function(){console.log("floor mounted!"),this.$parent.setStage("floating")},activated:function(){console.log("floor activated!"),this.$parent.setStage("floating")}},qt=Vt,Zt=Object(W["a"])(qt,Nt,Ut,!1,null,null,null),Gt=Zt.exports;a["a"].use(at["a"]);var Jt=new at["a"]({routes:[{name:"home",path:"/",component:_t},{name:"map",path:"/map",component:Tt},{name:"poem",path:"/poem",component:Bt,props:!0},{name:"floor",path:"/floor",component:Gt}]}),Yt=Jt,Kt=(n("a434"),n("ac1f"),n("5319"),n("1276"),n("2f62")),Qt="https://mmlab.tw/muse/sea",Xt="./data/ocean_data.json",te="./data/dummy_char.txt",ee=.5;function ne(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),a=[t[n],t[e]];t[e]=a[0],t[n]=a[1]}}a["a"].use(Kt["a"]),a["a"].use(zt.a,Pt.a);var ae,ie=new Kt["a"].Store({state:{location:"",poem:[],generating:!1,ocean:[],island:[],screenWidth:document.documentElement.clientWidth,screenHeight:document.documentElement.clientHeight,pageWidth:0,pageHeight:0,maskRegion:{},pagePadding:ee,dummyChar:[],timeoutInterval:6e4},mutations:{setWeatherText:function(t,e){for(var n in t.poem=[],e)t.poem.push({text:e[n]})},setLocation:function(t,e){t.location=e.loc},setPoem:function(t,e){for(var n in t.poem){var a=e[n].replace(t.poem[n].text,""),i="\n"!==a[0],o=a.split("\n");o=o.filter((function(t){return t.length>0}));var s={text:t.poem[n].text,poem:o,concat:i};t.poem.splice(n,1,s)}},setGenerating:function(t,e){t.generating=e},clearPoem:function(t){for(var e in t.poem){var n={text:t.poem[e].text};t.poem.splice(e,1,n)}},setOceanData:function(t,e){t.ocean=e},setIslandData:function(t,e){t.island=e},setDummyChar:function(t,e){t.dummyChar=e},setPageSize:function(t){t.screenWidth=document.documentElement.clientWidth,t.screenHeight=document.documentElement.clientHeight;var e=document.getElementsByClassName("MainPage")[0];t.pageWidth=e.clientWidth,t.pageHeight=e.clientHeight,console.log(t.pageWidth+" , "+t.pageHeight);var n=Math.min(t.pageWidth/.8,t.pageHeight*p),a=t.screenWidth/2-n/2,i=t.screenHeight/2-t.pageHeight/2+.2*t.pageHeight;t.maskRegion={x:a,y:i,w:n}}},actions:{generatePoem:function(t){var e=this,n=t.commit;n("setGenerating",!0),n("clearPoem");var i=[];for(var o in this.state.poem)i.push(this.state.poem[o].text);a["a"].axios.post(Qt,i).then((function(t){var e=t.data.split("#");n("setPoem",e),n("setGenerating",!1)})).catch((function(t){console.log(t);for(var a=[],i=0;i<e.state.poem.length;++i)a.push("############");n("setPoem",a),n("setGenerating",!1)}))},fetchIslandData:function(t){var e=t.commit;a["a"].axios.get(Xt).then((function(t){var n=[],a=t.data.main.h/2;for(var i in t.data.ocean){var o=t.data.ocean[i];o.x/=a,o.y/=a,o.w/=a,o.h/=a,o.index=i,n.push(o)}var s=[];for(i in t.data.island){var r=t.data.island[i];r.x/=a,r.y/=a,r.w/=a,r.h/=a,r.index=i,r.r/=a,s.push(r)}e("setOceanData",n),e("setIslandData",s),console.log("load ocean data!")})).catch((function(t){console.log(t)}))},fetchDummyChar:function(t){var e=t.commit;a["a"].axios.get(te).then((function(t){var n=t.data.split("");ne(n),e("setDummyChar",n),console.log("load dummyChars!")})).catch((function(t){console.log(t)}))},computePageSize:function(t){var e=t.commit;e("setPageSize")}},getters:{getWeatherText:function(t){return t.weather_text},getPoem:function(t){return t.poem},getOceanPosition:function(t){return function(e){var n=t.maskRegion.x-(t.screenWidth-t.pageWidth)/2,a=t.maskRegion.y-(t.screenHeight-t.pageHeight)/2,i=t.maskRegion.w/2;return{x:n+i+t.ocean[e].x*i,y:a+i+t.ocean[e].y*i}}},getOceanPositionCanvas:function(t){return function(e){var n=t.maskRegion.w/2;return{x:t.maskRegion.x+n+t.ocean[e].x*n,y:t.maskRegion.y+n+t.ocean[e].y*n}}},getIslandPositionCanvas:function(t){return function(e){if(e<0||e>=t.island.length)return{x:0,y:0,r:0};var n=t.maskRegion.w/2;return{x:t.maskRegion.x+n+t.island[e].x*n,y:t.maskRegion.y+n+t.island[e].y*n,r:t.island[e].r}}},getDummyChar:function(t){return function(e){var n=t.dummyChar[e%t.dummyChar.length];return n}},getMaskRegion:function(t){return t.maskRegion},getSleepTimeout:function(t){return t.timeoutInterval}}}),oe=ie;a["a"].use(i["a"]),a["a"].use(s.a,{id:"UA-80306203-11"}),a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(nt)},router:Yt,store:oe,mounted:function(){var t=this;window.onresize=function(){clearTimeout(ae),ae=setTimeout(t.doResize,10)},this.doResize()},created:function(){},methods:{doResize:function(){console.log("resize!"),this.$store.dispatch("computePageSize")}}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var a=n("9c0c"),i=n.n(a);i.a},"5c48":function(t,e,n){"use strict";var a=n("38cf"),i=n.n(a);i.a},"773a":function(t,e,n){"use strict";var a=n("3681"),i=n.n(a);i.a},9623:function(t,e,n){"use strict";var a=n("96fa"),i=n.n(a);i.a},"96fa":function(t,e,n){},"9c0c":function(t,e,n){},a089:function(t,e,n){},a9b8:function(t,e,n){"use strict";var a=n("f5fa"),i=n.n(a);i.a},f5fa:function(t,e,n){},fd63:function(t,e,n){}});
//# sourceMappingURL=app.d263ae13.js.map